<!DOCTYPE html>
<html lang="sk-SK">
<head>
	<!-- Primary Meta Tags -->
	<title>DOMINATOR Airsoft | Paintball - RFID a tlačilové stopky na platforme Arduino</title>
	<meta name="title" content="DOMINATOR Airsoft | Paintball - RFID a tlačilové stopky na platforme Arduino">
	<meta name="description" content="RFID DOMINATOR - stopky cez Arduino pre Airsoft, Paintball. Stopky s využitím znakového displeja na I2C zbernici. Tlačidlový a RFID vstup.">
	<link rel="icon" type="image/png" href="https://martinius96.github.io/termostat-ethernet/favicon.png">
	<link rel="sitemap" type="application/xml" title="Sitemap" href="sitemap.xml" />
	<!-- Open Graph / Facebook -->
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://martinius96.github.io/Airsoft-DOMINATOR-RFID/index.html">
	<meta property="og:title" content="DOMINATOR Airsoft | Paintball - RFID a tlačilové stopky na platforme Arduino">
	<meta property="og:description" content="RFID DOMINATOR - stopky cez Arduino pre Airsoft, Paintball. Stopky s využitím znakového displeja na I2C zbernici. Tlačidlový a RFID vstup.">
	<meta property="og:image" content="">

	<!-- Twitter -->
	<meta property="twitter:card" content="summary_large_image">
	<meta property="twitter:url" content="https://martinius96.github.io/Airsoft-DOMINATOR-RFID/index.html">
	<meta property="twitter:title" content="DOMINATOR Airsoft | Paintball - RFID a tlačilové stopky na platforme Arduino">
	<meta property="twitter:description" content="RFID DOMINATOR - stopky cez Arduino pre Airsoft, Paintball. Stopky s využitím znakového displeja na I2C zbernici. Tlačidlový a RFID vstup.">
	<meta property="twitter:image" content="">
	
	<meta name="google-site-verification" content="UwZZh2EXv3iWUAi_1Z0hLxVCz6ySJ4UdY_BPoLtejwo" />    	
	<meta property='fb:admins' content='100001242570317'>
    	<meta charset="utf-8">
    	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	<script type="text/javascript">
    		window.smartlook||(function(d) {
    			var o=smartlook=function(){ o.api.push(arguments)},h=d.getElementsByTagName('head')[0];
    			var c=d.createElement('script');o.api=new Array();c.async=true;c.type='text/javascript';
    			c.charset='utf-8';c.src='https://rec.smartlook.com/recorder.js';h.appendChild(c);
    		})(document);
    		smartlook('init', 'db50efe9fff280a17db52b82be221240cbbd3dbe');
	</script>    
	<style>
		table td {
  			border: 1px solid black; 
		}
	</style>
</head>
<body>
	<div class="container">
		<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="index.html">RFID DOMINATOR</a>
    </div>
    <ul class="nav navbar-nav">
      	<li class="active"><a href="index.html">Informácie</a></li>
<li><a href="en/index.html"><img src="https://www.flaticon.com/svg/static/icons/svg/299/299688.svg" alt="English.png, 2,2kB" title="English" height="32" width="32"></a></li>
<li><a href="de/index.html"><img src="https://www.flaticon.com/svg/static/icons/svg/299/299786.svg" alt="Germany.png, 2,2kB" title="Germany" height="32" width="32"></a></li>
<li><a href="ru/index.html"><img src="https://www.flaticon.com/svg/static/icons/svg/299/299700.svg" alt="russia.png, 2,2kB" title="Russia" height="32" width="32"></a></li>	    
 </div>
</nav>  
  		<div class="row">
    			<div class="col-sm-12">
<div class="alert alert-success">
	<strong>Repozitár s projektom - schémami zapojenia, strojovými kódmi pre testovanie - Github: </strong><a href="https://github.com/martinius96/Airsoft-DOMINATOR-RFID">Airsoft - RFID DOMINATOR - Arduino</a>
</div>	
<div class="alert alert-info">
	<strong>Pri záujme o kúpu softvéru pre DOMINATOR kontaktujte na:</strong> martinius96@gmail.com
	
</div>					
<span class="label label-default">Arduino</span>
<span class="label label-primary">LCD</span>
<span class="label label-success">RFID, NFC</span>
<span class="label label-info">RC522</span>
<span class="label label-warning">Stopwatch</span>
<span class="label label-danger">Schematics</span>
<span class="label label-default">Airsoft</span>
<span class="label label-primary">Paintball</span>
<span class="label label-success">DOMINATOR</span>
<hr><center><h2>RFID DOMINATOR - stopky pre Airsoft | Paintball</h2></center><hr>
      <div class="alert alert-danger">
      <strong>Pozor na RFID čítačky RC522 s falošným (neoriginálnym NXP RC522) čipom! - V projekte na UART hlási: Firmware version: 0x12 - counterfeit chip. Projekt s falošným čipom nefuinguje. </strong>
	Testované a funkčné s NXP RFID čítačkou RC522, ktorá hlási verziu firmvéru: Firmware version 0x92 (Version 2.0).
      </div>
<!---<h2>Knižnice pre projekt RFID DOMINATOR</h2> 
<li>RFID  <a href="https://github.com/miguelbalboa/rfid">https://github.com/miguelbalboa/rfid</a></li>
<li>LCD - I2C  <a href="https://github.com/fdebrabander/Arduino-LiquidCrystal-I2C-library">https://github.com/fdebrabander/Arduino-LiquidCrystal-I2C-library</a></li>	--->			
<h4>Popis projektu:</h4>
<li>Zariadenie - DOMINATOR sú stopky pre Airsoft, Paintball, ktoré umožňujú počítať a vizualizovať časy pre dva tímy.</li>
<li>Využívajú riadiaci mikrokontróler Arduino (Arduino Uno / Nano).</li>
<li>Na LCD znakovom displeji rozmeru 16x2, respektíve 20x4 sa vyobrazujú časy jednotlivých tímov (RED a GRE tím).</li>
<li>V systéme sú tak 2 tímy, ktoré proti sebe hrajú a zaberajú tento konkrétny bod, ktorý tvorí DOMINATOR.</li>				
<li>Na začiatku hry sú na displeji vypísané časy 00 hodín, 00 minút, 00 sekúnd pre Tím 1 (RED), Tím 2, (GREEN).</li>				
<li>Každý z členov tímu je vybavený kartou, alebo kľúčenkou, ktorá komunikuje na frekvencii 13.56MHz s RFID čítačkou. </li>
<li>Kľúčenky môžu byť farebné odlíšené (modré, červené podľa tímu a funkcie...), čo umožňuje ich efektívnejšiu distribúciu hráčom</li>
<li>Ak tím obsadí bod, hráč toho tímu priloží svoju kartu k čítačke, čím bod obsadí.</li>
<li>Rozsvieti sa LED dióda daného tímu (červená / zelená) na tomto stanovišti a začne sa pripočítavať čas danému tímu (zmena môže byť oznámená aj buzzerom - hlásičom, ak sa v systéme využíva). </li>
<li>Ak bod obsadí druhý tím a priloží člen tohto tímu svoju kartu, rozsvieti sa dióda toho tímu, čas druhého tímu sa pauzuje a počíta sa čas toho tímu, ktorý bod obsadil.</li> 
<li>Ak kartu / kľúčenku priloží organizátor (rozhodca), oba časy sa zapauzujú až do momentu, kým nepriloží kartu niektorý z tímov.</li> 
<li>Tento typ karty je tak vhodný aj pre prestávku, ukončenie hry, kedy sa čas zastaví a rozhodne sa o víťazovi.</li> 
<li>Poslednou možnou kartou v systéme je použitie tzv. eraser karty, ktorá oba časy zapauzuje a vynuluje.</li>
<li>Projekt je vhodný pre Airsoft akcie, športové areály, čí Airsoft tímy.</li> 
<li>Systém je otestovaný, funkčný, pracuje bezproblémovo, možnosť merať a vyobrazovať čas aj na desatiny sekundy (programovo sa počítajú, ale nezobrazujú, zobrazenie v rozlíšení sekúnd v základnej verzii).</li>
<li>Čítačka RC522 pracuje na frekvencii 13.56MHz, RFID tagy registruje na cca 3 centimetre (nutný skoro až fyzický dotyk s čítačkou), kompatibilný formát tagov ISO/IEC 14443-A.</li>
<li>RFID čítačka NXP RC522 registruje aj bankomatové, ISIC, autobusové karty, ktoré fungujú ako NFC karty a dokážu oznámiť svoju fyzickú adresu čítačke v dosahu.</li>
<h4>Hardvér pre projekt - RFID DOMINATOR:</h4> 
<li><b>Arduino Uno/Nano</b><img src="https://s3-ap-northeast-1.amazonaws.com/switch-science-intl/contents/small/789_201602_102_tBuTiHx.jpg" alt="Arduino Uno/Nano" title="Arduino Uno/Nano" style="display: block; max-width: 100%; height: auto; border-radius: 50%;"></li>
<li><b>RFID čítačka RC522 (13.56MHz)</b><img src="https://i.imgur.com/PrVMhWG.png" alt="RFID čítačka RC522" title="RFID čítačka RC522" style="display: block; max-width: 100%; height: auto; border-radius: 50%;"></li>
<li><b>Kľúčenky/karty/náramky štandardu ISO/IEC 14443-A</b><img src="https://i.imgur.com/9lqEfhO.png" alt="Kľúčenky, karty, náramky na 13.56MHz štandardu ISO/IEC 14443-A" title="Kľúčenky, karty, náramky na 13.56MHz štandardu ISO/IEC 14443-A" style="display: block; max-width: 100%; height: auto; border-radius: 50%;"></li>
<li><b>Hlásič (pasívny buzzer)</b><img src="https://i.imgur.com/HPRdfXo.png" alt="Hlásič priloženia karty" title="Hlásič priloženia karty" style="display: block; max-width: 100%; height: auto; border-radius: 50%;"></li>
<li><b>2x LED diódy</b><img src="https://www.leds-manufacturer.com/PIC/2010114205637734_1.jpg" alt="LED diódy - indikátor aktívneho tímu na bode" title="LED diódy - indikátor aktívneho tímu na bode" style="display: block; max-width: 100%; height: auto; border-radius: 50%;"></li>
<center><img src="https://i.imgur.com/TeQXCCp.jpg" style="display: block; max-width: 100%; height: auto;" alt="RFID DOMINATOR - bežiace stopky v Airsoft hre pre dva tímy - Capture Point - DOMINATION" title="RFID DOMINATOR - bežiace stopky v Airsoft hre pre dva tímy - Capture Point - DOMINATION"></center>        
<h4>Princíp funkčnosti po hardvérovej stránke:</h4>
      <li>RFID čítačka RC522 komunikuje s Arduinom po SPI zbernici. Načítava UID (identifikátor) RFID kariet v dosahu, preposiela tento identifikátor Arduinu, ktorý vykoná programovú logiku. Čítačka reaguje na vzdialenosť čipu cca 3cm od antény.</li>
      <li>Arduino načítanú adresu karty porovná v multipodmienke, aplikuje digitálne stavy na diódy, beží na ňom univerzálne počítadlo každých 100ms (počíta po desatinách sekundy), riadi počítanie oboch časov.</li>
      <li>Čas je posielaný po I2C zbernici na znakový displej 20x4, kde je vykreslený. Výpis na displej trvá do 30ms pri rýchlosti I2C zbernice 100 kHz - Standard speed.</li>
      <div class="alert alert-success">
      <strong>Maximálny rozsah času, ktorý môže byť vypísaný v systéme: </strong>99 hodín, 59 minút a 59 sekúnd
      </div>
      <div class="alert alert-info">
      <strong>Spotreba: cca 110mAh pri 5V napájaní. </strong>Vhodné napájať cez powerbanku, nabíjačku od telefónu s USB výstupom.
      </div>
      <h4>Určenie projektu RFID DOMINATOR:</h4>
      <li>Projekt je vhodný pre tímy, kluby, športové areály, akcie.</li>
      <li>Ak sú RFID karty, náramky, respektíve kľúčenky farebne odlíšené, je veľmi ľahké a univerzálne ich distribuovať hráčom.</li>
      <li>Použitie kariet je ľahké pre všetky vekové kategórie. Čip je chránený v plastovom puzdre, nevadí mu špina, voda...</li>
      <li>Vhodný pre herné módy DOMINATION, Capture Point (môže byť použitých aj viac DOMINATOR-ov v hre), teda herný mód, ktorý má vyrovnaný počet hráčov.</li>
      <li>Využitie je predovšetkým pre športy Airsoft, Paintball, Nerf Wars.</li>
      <hr><h4>Ukážka funkčnosti - RFID DOMINATOR:</h4><hr><center><iframe width="50%" height="315" src="https://www.youtube.com/embed/H7FHSLeyXVU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></center>
<hr><center><h2>Doska plošných spojov - (DPS) - RFID DOMINATOR - GERBER / výroba fotocestou</h2></center><hr>
<div class="alert alert-info">
	<strong>DPS návrh počíta s využitím dosky Arduino Nano</strong>
</div>					
<li>DPS je obojstranná s prekovmi, rozmery: 100x105mm</li>				
<h4>Výroba DPS v Číne</h4>
<p>DPS je možné nechať si vyrobiť na Slovensku u <a href="https://www.pbspoj.sk/">PB Spoj</a>, alebo aj v Číne - strojovou výrobou z GERBER súborov. 
Jeden z najpopulárnejších a najlacnejších výrobcov je: JLCPCB. 
GERBER súbory je možné rovno nahrať ako archív, pričom sa DPS vizualizuje, automaticky sa nastavia vrsty, ktoré zaznamená, nastaví rozmery DPS. 
Výroba trvá 1-2 dni. Kedysi sa tento výrobca preslávil akciou výroby 10 kusov PCB za 2 doláre. 
Dnes JLCPCB umožňuje vyrobiť 5 kusov tejto DPS pre RFID DOMINATOR za 6.96€, 10 kusov za 10.16€.
Preprava - dostupná najlacnejšia alternatíva za 7.44€ až po DHL s doručením do 3-5 pracovných dní, pričom cena prepravy je 23.16€. 
JLCPCB automaticky aplikuje zľavový kupón na 8€ pre prepravu, ktorý vám pridelí po registrácii. 
Teda s najlacnejšou prepravnou alternatívou s doručením do 25 dní je táto preprava pri prvom nákupe zdarma.
Taktiež je možné využiť aj iných dostupných výrobcov, napríklad: PCBWay, AllPCB, NextPCB, SeeedStudio, ktorí majú technológiu pre výrobu DPS strojovou metódou z GERBER súborov.
</p>
<center><img src="https://i.imgur.com/rFyRB50.png" alt="DPS pre Airsoft DOMINATOR - JLCPCB" style="display: block; max-width: 100%; height: auto;" title="DPS pre Airsoft DOMINATOR - JLCPCB"></center>        							
<h4>Pin headre v DPS návrhu:</h4>
<li>2x female pin-header 15-pin (pre Arduino Nano)</li>
<li>1x female pin-header 8-pin (pre RFID čítačku RC522)</li>
<li>1x female 90° pin-header 4-pin (pre I2C prevodník LCD displeja 20x4)</li>

<h4>Distančné stĺpiky v DPS návrhu:</h4>
<li>4x distančný stĺpik pre znakový LCD displej 20x4 (Ø max 2.5 mm)</li>
<li>2x distančný stĺpik pre RFID RC522 (Ø max 3.5 mm)</li>
<h4>Rozmery súčiastok:</h4>
<div class="alert alert-danger">
	<strong>PDF dokument s rozmermi súčiastok je dostupný: </strong><a href="https://github.com/martinius96/Airsoft-DOMINATOR-RFID/blob/master/docs/pdf/Rozmery_SUCIASTOK.pdf">TU</a>
</div>
<img src="https://i.imgur.com/YMe2Y4L.png" style="display: block; max-width: 100%; height: auto;" alt="RFID DOMINATOR - DOSKA PLOŠNÝCH SPOJOV - DPS - PCB - RC522, Arduino - Nano, buzzer, LED, stopky, stopwatch" title="RFID DOMINATOR - DPS - PCB - RC522, Arduino Nano, buzzer, LED, stopky, stopwatch">  
<center><img src="https://i.imgur.com/8KE9eBX.png" style="display: block; max-width: 100%; height: auto;" alt="RFID DOMINATOR - DOSKA PLOŠNÝCH SPOJOV - DPS - Výroba fotocestou" title="RFID DOMINATOR - DOSKA PLOŠNÝCH SPOJOV - DPS - Výroba fotocestou"></center> 				
<h3>Tabuľkové zapojenie vývodov - RFID DOMINATOR - plne odpovedá schéme zapojenia:</h3>
<div class="table-responsive">   
<table class="table" style="border: 1px solid black;">
				<thead>
<tr>
<td align="left" style="background-color:#27AE60"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#27AE60"><strong>NXP RFID RC522</strong></td>
</tr>
<tr>
<td align="left">GND</td>
<td align="right">GND</td>
</tr>
<tr>
<td align="left">3V3</td>
<td align="right">3V3</td>
</tr>
<tr>
<td align="left">D9</td>
<td align="right">RST</td>
</tr>
<tr>
<td align="left">D10</td>
<td align="right">SDA (SS)</td>
</tr>
<tr>
<td align="left">D11</td>
<td align="right">MOSI</td>
</tr>
<tr>
<td align="left">D12</td>
<td align="right">MISO</td>
</tr>
<tr>
<td align="left">D13</td>
<td align="right">SCK</td>
</tr>					
<tr>
<td align="left" style="background-color:#C0392B"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#C0392B"><strong>I2C prevodník pre LCD displej</strong></td>
</tr>
<tr>
<td align="left">GND</td>
<td align="right">GND</td>
</tr>
<tr>
<td align="left">5V</td>
<td align="right">Vcc</td>
</tr>
<tr>
<td align="left">A4</td>
<td align="right">SDA</td>
</tr>
<tr>
<td align="left">A5</td>
<td align="right">SCL</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#F8C471"><strong>Buzzer (hlásič)</strong></td>
</tr>
<tr>
<td align="left">GND</td>
<td align="right">GND</td>
</tr>
<tr>
<td align="left">5V</td>
<td align="right">Vcc</td>
</tr>
<tr>
<td align="left">D5</td>
<td align="right">IN</td>
</tr>
<tr>
<td align="left" style="background-color:#5DADE2"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#5DADE2"><strong>LED diódy</strong></td>
</tr>
<tr>
<td align="left">GND</td>
<td align="right">GND</td>
</tr>
<tr>
<td align="left">D4</td>
<td align="right">IN (RED)</td>
</tr>
<tr>
<td align="left">D3</td>
<td align="right">IN (GREEN)</td>
</tr>
</tbody>
</table>				</div>
<hr><center><h2>Schéma zapojenia - RFID DOMINATOR:</h2></center><hr>
<img src="https://i.imgur.com/g5ufkBO.png" alt="Airsoft Dominator RFID" style="display: block; max-width: 100%; height: auto;" alt="Schéma zapojenia - RFID DOMINATOR (verzia 2) s mikrokontrolérom Arduino Uno a čítačkou RC522 a LCD znakovým displejom komunikujúcim po I2C zbernici" title="Schéma zapojenia - RFID DOMINATOR (verzia 2) s mikrokontrolérom Arduino Uno a čítačkou RC522 a LCD znakovým displejom komunikujúcim po I2C zbernici">  
<hr><center><h3><font color="#52BE80">Program pre načítanie UID adries RFID kariet pre DOMINATOR</font></h3></center><hr>
<li>Program slúži na načítanie identifikátorov (UID) RFID tagov, kariet, ktoré budú použité v programe pre RFID DOMINATOR</li>
<li>Výpis adresy karty sa realizuje do sériového (UART) monitoru - použitá rýchlosť 9600 baud/s.</li>
<li>Výpis je vhodné ukladať a prepísať do prehľadného .xls (EXCEL) dokumentu, ktorý uľahčí správu priradených RFID kariet ku konkrétnym tímom a entitám</li>				
<div class="alert alert-info">
<b>Pre úspešné nahratie zdrojového kódu pre načítanie UID kariet je nutné importovať knižnicu MFRC522 do vášho prostredia Arduino IDE. </b>
Stiahnite si repozitár projektu RFID DOMINATOR (odkazuje naň prvý odkaz na vrchu stránky), obsah zložky /src/ <strong>(priečinok MFRC522) nakopírujte do priečinka /Arduino/libraries/ (cesta k zložke závisí od toho, kde máte v systéme Arduino IDE nainštalované), najčastejšie v Dokumentoch / Program Files u starších operačných systémov Windows.</strong>
</div>	
<h4>Príklad uložených UID RFID kariet:</h4>				
<center><img src="https://i.imgur.com/LvXPxVq.png" style="display: block; max-width: 100%; height: auto;" alt="Fyzické UID RFID kariet uložené v prehľadnom Excel dokumente" title="Fyzické UID RFID kariet uložené v prehľadnom Excel dokumente"></center> 				
<h4>Výstup programu na UART rozhranie:</h4>
<center><img src="https://i.imgur.com/zacr30a.png" style="display: block; max-width: 100%; height: auto;" alt="Výpis UID RFID tagu, karty na UART rozhranie s vypísaním typu karty" title="Výpis UID RFID tagu, karty na UART rozhranie s vypísaním typu karty"></center>
<pre style="background: #52BE80;">
/*|-------------------------------------------------|*/
/*|Názov: Načítanie UID RFID kariet                 |*/
/*|Popis: Načíta prostredníctvom RFID čítačky RC522 |*/
/*|adresu RFID karty, ktorá je priložená a vypíše   |*/
/*|UID na UART rozhranie.                           |*/
/*|Zaznamenané UID kariet sa použijú v DOMINATOR-e  |*/
/*|Autor: Martin Chlebovec                          |*/
/*|E-mail: martinius96@gmail.com                    |*/
/*|Licencia pouzitia: MIT                           |*/
/*|Revízia: 12. August 2020                         |*/
/*|-------------------------------------------------|*/

#include &lt;SPI.h>
#include &lt;MFRC522.h>
#define RST_PIN         9
#define SS_1_PIN        10
#define NR_OF_READERS   1
byte ssPins[] = {SS_1_PIN};
MFRC522 mfrc522[NR_OF_READERS];
void setup() {
  Serial.begin(9600);
  while (!Serial);
  SPI.begin();
  for (uint8_t reader = 0; reader &lt; NR_OF_READERS; reader++) {
    mfrc522[reader].PCD_Init(ssPins[reader], RST_PIN);
    mfrc522[reader].PCD_SetAntennaGain(112); // set to max (00001110)
    Serial.print(F("Reader "));
    Serial.print(reader);
    Serial.print(F(": "));
    mfrc522[reader].PCD_DumpVersionToSerial();
  }
}

void loop() {
  for (uint8_t reader = 0; reader &lt; NR_OF_READERS; reader++) {
    if (mfrc522[reader].PICC_IsNewCardPresent() && mfrc522[reader].PICC_ReadCardSerial()) {
      Serial.print(F("Reader "));
      Serial.print(reader);
      Serial.print(F(": Card UID:"));
      dump_byte_array(mfrc522[reader].uid.uidByte, mfrc522[reader].uid.size);
      Serial.println();
      Serial.print(F("PICC type: "));
      MFRC522::PICC_Type piccType = mfrc522[reader].PICC_GetType(mfrc522[reader].uid.sak);
      Serial.println(mfrc522[reader].PICC_GetTypeName(piccType));
      mfrc522[reader].PICC_HaltA();
      mfrc522[reader].PCD_StopCrypto1();
    }
  }
}

void dump_byte_array(byte *buffer, byte bufferSize) {
  for (byte i = 0; i &lt; bufferSize; i++) {
  }
  Serial.print("Kod:");
  unsigned long kod = 10000 * buffer[4] + 1000 * buffer[3] + 100 * buffer[2] + 10 * buffer[1] + buffer[0]; //finalny kod karty
  Serial.print(kod);
}
</pre>
<hr>				
<center><h3><font color="#C0392B">I2C Scanner - program pre načítanie adresy I2C prevodníka pre LCD displej</font></h3></center>				
<hr>
<h4>Očakávaný výstup programu I2C Scanner:</h4>
<center><img src="https://i.imgur.com/ProXJck.png" style="display: block; max-width: 100%; height: auto;" alt="Výpis I2C adresy, na ktorej komunikuje I2C prevodník pre displej 16x2 / 20x4" title="Výpis I2C adresy, na ktorej komunikuje I2C prevodník pre displej 16x2 / 20x4"></center>				
<div class="alert alert-info">
<b>Knižnica Wire je vstavaná do Arduino IDE, nie je nutná jej inštalácia.</b>
Program je možné ihneď nahrať. Je vhodné ešte pred začiatkom spustenia programu pripojiť hardvér - I2C prevodník pre displej 16x2 / 20x4, stačí aj bez displeja.
</div>	
<pre style="background: #C0392B;">
#include &lt;Wire.h>
 
 
void setup()
{
  Wire.begin();
 
  Serial.begin(9600);
  while (!Serial);             // Leonardo: wait for serial monitor
  Serial.println("\nI2C Scanner");
}
 
 
void loop()
{
  byte error, address;
  int nDevices;
 
  Serial.println("Scanning...");
 
  nDevices = 0;
  for(address = 1; address &lt; 127; address++ )
  {
    // The i2c_scanner uses the return value of
    // the Write.endTransmisstion to see if
    // a device did acknowledge to the address.
    Wire.beginTransmission(address);
    error = Wire.endTransmission();
 
    if (error == 0)
    {
      Serial.print("I2C device found at address 0x");
      if (address &lt; 16)
        Serial.print("0");
      Serial.print(address,HEX);
      Serial.println("  !");
 
      nDevices++;
    }
    else if (error==4)
    {
      Serial.print("Unknown error at address 0x");
      if (address &lt; 16)
        Serial.print("0");
      Serial.println(address,HEX);
    }    
  }
  if (nDevices == 0)
    Serial.println("No I2C devices found\n");
  else
    Serial.println("done\n");
 
  delay(5000);           // wait 5 seconds for next scan
}
</pre>
<hr><center><h2>Tlačidlový DOMINATOR - stopky pre Airsoft | Paintball</h2></center><hr>
<li>Využíva tlačidlový vstup pre tímy, rozhodcu a erasera, celkom 4 tlačidlá so spínacou funkciou.</li>
<li>Tlačidlá nahrádzajú RFID čítačku v metóde vstupu pre DOMINATOR.</li>				
<li>Zapojenie tlačidiel je v režime INPUT_PULLUP, stlačením sa privedie GND na vstupný vývod Arduina (Active-LOW signál).</li>
<li>Používajú sa spínacie tlačidlá, nie rozpínacie (nereagovali by na logiku systému, boli by vždy všetky softvérovo "stlačené").</li>				
<li>V základnej verzii DOMINATOR reaguje okamžite na stlačenie - aktivuje sa počítanie času pre daný tím (neoveruje sa dĺžka stlačenia, počet stlačení a iné...).</li>
<li>Časy sú vypísané na LCD znakový displej rozmeru 16x2, prípadne 20x4</li>
<li>Logika systému, počítadlo je identické ako pre RFID DOMINATOR.</li>
<h4>Hardvér pre projekt - Tlačidlový DOMINATOR:</h4> 
<li><b>Arduino Uno/Nano</b><img src="https://s3-ap-northeast-1.amazonaws.com/switch-science-intl/contents/small/789_201602_102_tBuTiHx.jpg" alt="Arduino Uno/Nano" title="Arduino Uno/Nano" style="display: block; max-width: 100%; height: auto; border-radius: 50%;"></li>
<li><b>Hlásič (pasívny buzzer)</b><img src="https://i.imgur.com/HPRdfXo.png" alt="Hlásič priloženia karty" title="Hlásič priloženia karty" style="display: block; max-width: 100%; height: auto; border-radius: 50%;"></li>
<li><b>2x LED diódy</b><img src="https://www.leds-manufacturer.com/PIC/2010114205637734_1.jpg" alt="LED diódy - indikátor aktívneho tímu na bode" title="LED diódy - indikátor aktívneho tímu na bode" style="display: block; max-width: 100%; height: auto; border-radius: 50%;"></li>
<li><b>4x spínacie tlačidlo (pushbutton)</b><img src="https://i.imgur.com/9P3aF98.png" alt="LED diódy - indikátor aktívneho tímu na bode" title="LED diódy - indikátor aktívneho tímu na bode" style="display: block; max-width: 100%; height: auto; border-radius: 50%;"></li>
      <div class="alert alert-success">
      <strong>Maximálny rozsah času, ktorý môže byť vypísaný v systéme: </strong>99 hodín, 59 minút a 59 sekúnd
      </div>
      <div class="alert alert-info">
      <strong>Spotreba: cca 20mAh pri 5V napájaní. </strong>Vhodné napájať cez powerbanku, nabíjačku od telefónu s USB výstupom.
      </div>
<hr><center><h3>Tlačidlový DOMINATOR za behu v Airsoft hre</h3></center><hr>
<center><img src="https://i.imgur.com/yuHmpZa.jpg" alt="Airsoft Dominator RFID" style="display: block; max-width: 100%; height: auto;" alt="Airsoft DOMINATOR s tlačidlovým vstupom - stopky" title="Airsoft DOMINATOR s tlačidlovým vstupom - stopky"></center>        			
<hr><center><h3>Tlačidlový DOMINATOR - ukážka funkčnosti a logiky systému</h3></center><hr>
<center><iframe width="50%" height="315" src="https://www.youtube.com/embed/KN6RXZYUcI4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></center>
<h3>Tabuľkové zapojenie vývodov - Tlačidlový DOMINATOR - plne odpovedá schéme zapojenia:</h3>
<div class="table-responsive">   
<table class="table" style="border: 1px solid black;">
				<thead>		
<tr>
<td align="left" style="background-color:#27AE60"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#27AE60"><strong>I2C prevodník pre LCD displej</strong></td>
</tr>
<tr>
<td align="left">GND</td>
<td align="right">GND</td>
</tr>
<tr>
<td align="left">5V</td>
<td align="right">Vcc</td>
</tr>
<tr>
<td align="left">A4</td>
<td align="right">SDA</td>
</tr>
<tr>
<td align="left">A5</td>
<td align="right">SCL</td>
</tr>
<tr>
<td align="left" style="background-color:#C0392B"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#C0392B"><strong>Buzzer (hlásič)</strong></td>
</tr>
<tr>
<td align="left">GND</td>
<td align="right">GND</td>
</tr>
<tr>
<td align="left">5V</td>
<td align="right">Vcc</td>
</tr>
<tr>
<td align="left">D5</td>
<td align="right">IN</td>
</tr>
<tr>
<td align="left" style="background-color:#F8C471"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#F8C471"><strong>LED diódy</strong></td>
</tr>
<tr>
<td align="left">GND</td>
<td align="right">GND</td>
</tr>
<tr>
<td align="left">D4</td>
<td align="right">IN (RED)</td>
</tr>
<tr>
<td align="left">D3</td>
<td align="right">IN (GREEN)</td>
</tr>
<td align="left" style="background-color:#5DADE2"><strong>Arduino Uno / Nano (AtMega328P)</strong></td>
<td align="right" style="background-color:#5DADE2"><strong>Tlačidlá (INPUT_PULLUP)</strong></td>
</tr>
<tr>
<td align="left">GND</td>
<td align="right">GND</td>
</tr>
<tr>
<td align="left">D6</td>
<td align="right">IN (GREEN)</td>
</tr>
<tr>
<td align="left">D7</td>
<td align="right">IN (ERASER)</td>
</tr>
<tr>
<td align="left">D8</td>
<td align="right">IN (Rozhodca)</td>
</tr>
<tr>
<td align="left">D9</td>
<td align="right">IN (RED)</td>
</tr>
</tbody>
</table>				</div>
<hr><center><h2>Schéma zapojenia - Tlačidlový DOMINATOR:</h2></center><hr>
<img src="https://i.imgur.com/D9KcneX.png" alt="Airsoft Dominator RFID" style="display: block; max-width: 100%; height: auto;" alt="Schéma zapojenia - button - tlačidlový DOMINATOR s mikrokontrolérom Arduino Uno - stopky pre Airsoft" title="Schéma zapojenia - button - tlačidlový DOMINATOR s mikrokontrolérom Arduino Uno - stopky pre Airsoft">        			
<hr><center><h2>Testovací program (Shareware) - Tlačidlový DOMINATOR so strojovým kódom</h2></center><hr>
<div class="alert alert-info">
<p><b>K projektu Tlačidlový DOMINATOR je dostupná Shareware verzia (.hex).</b> Verzia umožňuje merať maximálne 15 sekúnd hry pre každý tím.
<b>Cieľom verzie je overiť kompatibilitu s vašim hardvérom.</b> V Github repozitári sú dostupné strojové kódy na základe I2C adresy prevodníka pre LCD displej.
Najpoužívanejšie adresy sú 0x27 a 0x3F. Ak neviete adresu vášho prevodníka využite vstavaný príklad v Arduino IDE --> I2C Scanner, ktorý vám adresu vypíše na UART rozhranie (Sériový monitor).
Strojový kód je možné nahrať do mikrokontroléru Arduino Uno cez softvér AVRDUDE - súčasť Arduino IDE, prípadne s GUI rozhraním cez XLoader - ľahšie na použitie.</p>
<li>AVRDUDE je nutné spustiť cez CMD (príkazový riadok) je nainštalované s prostredím Arduino IDE. Nachádza sa v C:/Users/User/Documents/ArduinoData/packages/arduino/tools/avrdude/6.X.X-arduino/bin</li>
<b><center>Vzorový príkaz pre nahratie programu do Arduino Uno / Nano (AtMega328P):</center></b>
<li><b>avrdude -CC: avrdude.conf -v -patmega328p -carduino -PCOM21 -b115200 -D -Uflash:w:sketch.ino.hex:i</b></li>
<li><b>XLoader je Windows aplikácia (spusiteľný .exe nástroj) s jednoduchým grafickým rozhraním</b>, ktoré umožňuje výber firmvéru - strojového kódu (.hex), cieľovej platformy a vie dynamicky ukázať COM port, na ktorom sa zariadenie nachádza.</li> 
<li><b>Jednoduchým kliknutím na Upload je možné strojový kód automatizovane nahrať</b> (XLoader využíva podobne ako Arduino IDE nástroj AVRDUDE). Okno XLoadera informuje o úspešnom uploade formou výpisu počtu uploadovaných bajtov.</li>	
<b>Firmvér je možné stiahnuť z repozitára projektu:</b> <a href="https://github.com/martinius96/Airsoft-DOMINATOR-RFID/">TU</a>. Firmvér je v priečinku /firmware/ rozdelený podľa adresy I2C prevodníka (zistili ste z I2C scanner výstupu na UART rozhranie).
</div>
				<h4>Dostupný firmvér - Tlačidlový DOMINATOR</h4>
				<div class="table-responsive">          
 				<table class="table" style="border: 1px solid black;">
				<thead>
				<tr>
				<td align="left" style="background-color:#2ECC71"><strong>Názov firmvéru</strong></td>
				<td align="right" style="background-color:#2ECC71"><strong>Určené pre</strong></td>
				</tr>
				</thead>
				<tbody>
				<tr>
				<td align="left">0x27.ino.hex</td>
				<td align="right">LCD znakový displej rozmeru 16x2, alebo 20x4 s <b>I2C prevodníkom, ktorý komunikuje na adrese 0x27</b></td>
				</tr>
				<tr>
				<td align="left">0x3F.ino.hex</td>
				<td align="right">LCD znakový displej rozmeru 16x2, alebo 20x4 s <b>I2C prevodníkom, ktorý komunikuje na adrese 0x3F</b></td>
				</tr>
				</tbody>
				</table>
				</div>				
<div class="alert alert-danger">
      <strong>V prípade najnovších čínskych klonov Arduino Nano, ktoré majú "Old Bootloader" je nutné nahrávať rýchlosťou 57600 baud/s! Pri iných verziách s novším Bootloaderom 115200 baud/s (táto rýchlosť je použitá aj v AVRDUDE príkaze pre nahratie strojového kódu).</strong>
 </div>				
<hr><center><h2>Nahrávanie Shareware verzie projektu Tlačidlový DOMINATOR do Arduina cez XLoader</h2></center><hr>				
<center>
	<img src="https://i.imgur.com/jpKuhTc.png" style="display: block; max-width: 100%; height: auto;" alt="XLoader - Arduino - AVRDUDE - Tlačidlový DOMINATOR - testovací program" title="XLoader - Arduino - AVRDUDE - Tlačidlový DOMINATOR - testovací program">	
</center>	
<hr><center><h2>Všeobecný videonávod pre upload firmvéru do Arduina cez XLoader</h2></center><hr>
<center><iframe width="50%" height="315" src="https://www.youtube.com/embed/fAUKYuYNkMo" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></center>					
</div>
		</div>
</div>
</body>
</html>
